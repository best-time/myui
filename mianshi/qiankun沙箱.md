### 如何实现一个微前端框架

[文章](https://juejin.cn/post/7004661323124441102#heading-4)

```

    应用注册
    路由劫持
    生命周期
    js沙箱
        快照
            就是在挂载子应用前记录下当前 window 上的所有内容
        proxy
            核心思路就是创建一个假的 window 出来，如果用户设置值的话就设置在 fakeWindow 上，这样就不会影响全局变量了。
            如果用户取值的话，就判断属性是存在于 fakeWindow 上还是 window 上。
    css隔离
    缓存机制
    全局通信

    当前的微前端存在的方案:
    iframe
        优点
        实现简单
        天然具备隔离性

        缺点
        主页面和 iframe 共享最大允许的 HTTP 链接数。
        iframe 阻塞主页面加载。
        浏览器的后退按钮无效

    服务端模板组合
        优点
        实现简单
        技术栈独立

        缺点
        需要额外配置 Nginx
        前后端分离不彻底

    single-spa

        优点
        纯前端解决方案
        可以使用多种技术栈
        完善的生态

        缺点
        上手成本高
        需要改造现有应用
        跨应用的联调变得复杂(数据通信变得复杂)

```
